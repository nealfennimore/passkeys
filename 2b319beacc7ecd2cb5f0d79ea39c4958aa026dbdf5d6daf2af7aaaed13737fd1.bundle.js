var Te=Object.create;var ge=Object.defineProperty;var Fe=Object.getOwnPropertyDescriptor;var Je=Object.getOwnPropertyNames;var $e=Object.getPrototypeOf,He=Object.prototype.hasOwnProperty;var qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ge=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Je(t))!He.call(e,n)&&n!==r&&ge(e,n,{get:()=>t[n],enumerable:!(i=Fe(t,n))||i.enumerable});return e};var ze=(e,t,r)=>(r=e!=null?Te($e(e)):{},Ge(t||!e||!e.__esModule?ge(r,"default",{value:e,enumerable:!0}):r,e));var Ae=qe(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});function P(e,t,r){var i;if(r===void 0&&(r={}),!t.codes){t.codes={};for(var n=0;n<t.chars.length;++n)t.codes[t.chars[n]]=n}if(!r.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");for(var o=e.length;e[o-1]==="=";)if(--o,!r.loose&&!((e.length-o)*t.bits&7))throw new SyntaxError("Invalid padding");for(var a=new((i=r.out)!=null?i:Uint8Array)(o*t.bits/8|0),u=0,c=0,p=0,y=0;y<o;++y){var b=t.codes[e[y]];if(b===void 0)throw new SyntaxError("Invalid character "+e[y]);c=c<<t.bits|b,u+=t.bits,u>=8&&(u-=8,a[p++]=255&c>>u)}if(u>=t.bits||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return a}function R(e,t,r){r===void 0&&(r={});for(var i=r,n=i.pad,o=n===void 0?!0:n,a=(1<<t.bits)-1,u="",c=0,p=0,y=0;y<e.length;++y)for(p=p<<8|255&e[y],c+=8;c>t.bits;)c-=t.bits,u+=t.chars[a&p>>c];if(c&&(u+=t.chars[a&p<<t.bits-c]),o)for(;u.length*t.bits&7;)u+="=";return u}var xe={chars:"0123456789ABCDEF",bits:4},be={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bits:5},we={chars:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bits:5},me={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bits:6},Se={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},Ye={parse:function(t,r){return P(t.toUpperCase(),xe,r)},stringify:function(t,r){return R(t,xe,r)}},We={parse:function(t,r){return r===void 0&&(r={}),P(r.loose?t.toUpperCase().replace(/0/g,"O").replace(/1/g,"L").replace(/8/g,"B"):t,be,r)},stringify:function(t,r){return R(t,be,r)}},Ze={parse:function(t,r){return P(t,we,r)},stringify:function(t,r){return R(t,we,r)}},Qe={parse:function(t,r){return P(t,me,r)},stringify:function(t,r){return R(t,me,r)}},Xe={parse:function(t,r){return P(t,Se,r)},stringify:function(t,r){return R(t,Se,r)}},et={parse:P,stringify:R};k.base16=Ye;k.base32=We;k.base32hex=Ze;k.base64=Qe;k.base64url=Xe;k.codec=et});var U=ze(Ae(),1),St=U.default.base16,At=U.default.base32,Et=U.default.base32hex,vt=U.default.base64,H=U.default.base64url,kt=U.default.codec;function ee(e){return new TextDecoder().decode(H.parse(e,{loose:!0}))}function te(e){return H.stringify(new TextEncoder().encode(e),{pad:!1})}var re;try{re=new TextDecoder}catch{}var l,D,s=0;var Ce=[],tt=105,rt=57342,nt=57343,Ee=57337;var ve=6,M={},ne=Ce,ie=0,f={},h,z,Y=0,T=0,x,A,g=[],se=[],S,m,L,ke={useRecords:!1,mapsAsObjects:!0},F=!1,I=class{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[r,i]of Object.entries(t.keyMap))this.mapKey.set(i,r)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let r=new Map;for(let[i,n]of Object.entries(t))r.set(this._keyMap.hasOwnProperty(i)?this._keyMap[i]:i,n);return r}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[i,n]of Object.entries(this._keyMap))this._mapKey.set(n,i)}let r={};return t.forEach((i,n)=>r[E(this._mapKey.has(n)?this._mapKey.get(n):n)]=i),r}mapDecode(t,r){let i=this.decode(t);if(this._keyMap)switch(i.constructor.name){case"Array":return i.map(n=>this.decodeKeys(n))}return i}decode(t,r){if(l)return Re(()=>(ue(),this?this.decode(t,r):I.prototype.decode.call(ke,t,r)));D=r>-1?r:t.length,s=0,ie=0,T=0,z=null,ne=Ce,x=null,l=t;try{m=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(i){throw l=null,t instanceof Uint8Array?i:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof I){if(f=this,S=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return h=this.structures,q();(!h||h.length>0)&&(h=[])}else f=ke,(!h||h.length>0)&&(h=[]),S=null;return q()}decodeMultiple(t,r){let i,n=0;try{let o=t.length;F=!0;let a=this?this.decode(t,o):ce.decode(t,o);if(r){if(r(a)===!1)return;for(;s<o;)if(n=s,r(q())===!1)return}else{for(i=[a];s<o;)n=s,i.push(q());return i}}catch(o){throw o.lastPosition=n,o.values=i,o}finally{F=!1,ue()}}};function q(){try{let e=d();if(x){if(s>=x.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}s=x.postBundlePosition,x=null}if(s==D)h=null,l=null,A&&(A=null);else if(s>D){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!F)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw ue(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function d(){let e=l[s++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=l[s++];break;case 25:if(t==7)return at();e=m.getUint16(s),s+=2;break;case 26:if(t==7){let r=m.getFloat32(s);if(f.useFloat32>2){let i=Me[(l[s]&127)<<1|l[s+1]>>7];return s+=4,(i*r+(r>0?.5:-.5)>>0)/i}return s+=4,r}e=m.getUint32(s),s+=4;break;case 27:if(t==7){let r=m.getFloat64(s);return s+=8,r}if(t>1){if(m.getUint32(s)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=m.getUint32(s+4)}else f.int64AsNumber?(e=m.getUint32(s)*4294967296,e+=m.getUint32(s+4)):e=m.getBigUint64(s);s+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let r=[],i,n=0;for(;(i=d())!=M;)r[n++]=i;return t==4?r:t==3?r.join(""):Buffer.concat(r);case 5:let o;if(f.mapsAsObjects){let a={};if(f.keyMap)for(;(o=d())!=M;)a[E(f.decodeKey(o))]=d();else for(;(o=d())!=M;)a[E(o)]=d();return a}else{L&&(f.mapsAsObjects=!0,L=!1);let a=new Map;if(f.keyMap)for(;(o=d())!=M;)a.set(f.decodeKey(o),d());else for(;(o=d())!=M;)a.set(o,d());return a}case 7:return M;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return ot(e);case 3:if(T>=s)return z.slice(s-Y,(s+=e)-Y);if(T==0&&D<140&&e<32){let n=e<16?De(e):st(e);if(n!=null)return n}return it(e);case 4:let r=new Array(e);for(let n=0;n<e;n++)r[n]=d();return r;case 5:if(f.mapsAsObjects){let n={};if(f.keyMap)for(let o=0;o<e;o++)n[E(f.decodeKey(d()))]=d();else for(let o=0;o<e;o++)n[E(d())]=d();return n}else{L&&(f.mapsAsObjects=!0,L=!1);let n=new Map;if(f.keyMap)for(let o=0;o<e;o++)n.set(f.decodeKey(d()),d());else for(let o=0;o<e;o++)n.set(d(),d());return n}case 6:if(e>=Ee){let n=h[e&8191];if(n)return n.read||(n.read=oe(n)),n.read();if(e<65536){if(e==nt)return le(d());if(e==rt){let o=V(),a=d();for(let u=2;u<o;u++)le([a++,d()]);return d()}else if(e==Ee)return pt();if(f.getShared&&(fe(),n=h[e&8191],n))return n.read||(n.read=oe(n)),n.read()}}let i=g[e];if(i)return i.handlesRead?i(d):i(d());{let n=d();for(let o=0;o<se.length;o++){let a=se[o](e,n);if(a!==void 0)return a}return new K(n,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let n=(S||C())[e];if(n!==void 0)return n;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let n=new Error("Unexpected end of CBOR data");throw n.incomplete=!0,n}throw new Error("Unknown CBOR token "+e)}}var Oe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function oe(e){function t(){let r=l[s++];if(r=r&31,r>23)switch(r){case 24:r=l[s++];break;case 25:r=m.getUint16(s),s+=2;break;case 26:r=m.getUint32(s),s+=4;break;default:throw new Error("Expected array header, but got "+l[s-1])}let i=this.compiledReader;for(;i;){if(i.propertyCount===r)return i(d);i=i.next}if(this.slowReads++>=3){let o=this.length==r?this:this.slice(0,r);return i=f.keyMap?new Function("r","return {"+o.map(a=>f.decodeKey(a)).map(a=>Oe.test(a)?E(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"):new Function("r","return {"+o.map(a=>Oe.test(a)?E(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"),this.compiledReader&&(i.next=this.compiledReader),i.propertyCount=r,this.compiledReader=i,i(d)}let n={};if(f.keyMap)for(let o=0;o<r;o++)n[E(f.decodeKey(this[o]))]=d();else for(let o=0;o<r;o++)n[E(this[o])]=d();return n}return e.slowReads=0,t}function E(e){return e==="__proto__"?"__proto_":e}var it=ae;function ae(e){let t;if(e<16&&(t=De(e)))return t;if(e>64&&re)return re.decode(l.subarray(s,s+=e));let r=s+e,i=[];for(t="";s<r;){let n=l[s++];if(!(n&128))i.push(n);else if((n&224)===192){let o=l[s++]&63;i.push((n&31)<<6|o)}else if((n&240)===224){let o=l[s++]&63,a=l[s++]&63;i.push((n&31)<<12|o<<6|a)}else if((n&248)===240){let o=l[s++]&63,a=l[s++]&63,u=l[s++]&63,c=(n&7)<<18|o<<12|a<<6|u;c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|c&1023),i.push(c)}else i.push(n);i.length>=4096&&(t+=w.apply(String,i),i.length=0)}return i.length>0&&(t+=w.apply(String,i)),t}var w=String.fromCharCode;function st(e){let t=s,r=new Array(e);for(let i=0;i<e;i++){let n=l[s++];if((n&128)>0){s=t;return}r[i]=n}return w.apply(String,r)}function De(e){if(e<4)if(e<2){if(e===0)return"";{let t=l[s++];if((t&128)>1){s-=1;return}return w(t)}}else{let t=l[s++],r=l[s++];if((t&128)>0||(r&128)>0){s-=2;return}if(e<3)return w(t,r);let i=l[s++];if((i&128)>0){s-=3;return}return w(t,r,i)}else{let t=l[s++],r=l[s++],i=l[s++],n=l[s++];if((t&128)>0||(r&128)>0||(i&128)>0||(n&128)>0){s-=4;return}if(e<6){if(e===4)return w(t,r,i,n);{let o=l[s++];if((o&128)>0){s-=5;return}return w(t,r,i,n,o)}}else if(e<8){let o=l[s++],a=l[s++];if((o&128)>0||(a&128)>0){s-=6;return}if(e<7)return w(t,r,i,n,o,a);let u=l[s++];if((u&128)>0){s-=7;return}return w(t,r,i,n,o,a,u)}else{let o=l[s++],a=l[s++],u=l[s++],c=l[s++];if((o&128)>0||(a&128)>0||(u&128)>0||(c&128)>0){s-=8;return}if(e<10){if(e===8)return w(t,r,i,n,o,a,u,c);{let p=l[s++];if((p&128)>0){s-=9;return}return w(t,r,i,n,o,a,u,c,p)}}else if(e<12){let p=l[s++],y=l[s++];if((p&128)>0||(y&128)>0){s-=10;return}if(e<11)return w(t,r,i,n,o,a,u,c,p,y);let b=l[s++];if((b&128)>0){s-=11;return}return w(t,r,i,n,o,a,u,c,p,y,b)}else{let p=l[s++],y=l[s++],b=l[s++],O=l[s++];if((p&128)>0||(y&128)>0||(b&128)>0||(O&128)>0){s-=12;return}if(e<14){if(e===12)return w(t,r,i,n,o,a,u,c,p,y,b,O);{let v=l[s++];if((v&128)>0){s-=13;return}return w(t,r,i,n,o,a,u,c,p,y,b,O,v)}}else{let v=l[s++],N=l[s++];if((v&128)>0||(N&128)>0){s-=14;return}if(e<15)return w(t,r,i,n,o,a,u,c,p,y,b,O,v,N);let he=l[s++];if((he&128)>0){s-=15;return}return w(t,r,i,n,o,a,u,c,p,y,b,O,v,N,he)}}}}}function ot(e){return f.copyBuffers?Uint8Array.prototype.slice.call(l,s,s+=e):l.subarray(s,s+=e)}var Be=new Float32Array(1),G=new Uint8Array(Be.buffer,0,4);function at(){let e=l[s++],t=l[s++],r=(e&127)>>2;if(r===31)return t||e&3?NaN:e&128?-1/0:1/0;if(r===0){let i=((e&3)<<8|t)/16777216;return e&128?-i:i}return G[3]=e&128|(r>>1)+56,G[2]=(e&7)<<5|t>>3,G[1]=t<<5,G[0]=0,Be[0]}var _t=new Array(4096);var K=class{constructor(t,r){this.value=t,this.tag=r}};g[0]=e=>new Date(e);g[1]=e=>new Date(Math.round(e*1e3));g[2]=e=>{let t=BigInt(0);for(let r=0,i=e.byteLength;r<i;r++)t=BigInt(e[r])+t<<BigInt(8);return t};g[3]=e=>BigInt(-1)-g[2](e);g[4]=e=>+(e[1]+"e"+e[0]);g[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));var le=e=>{let t=e[0]-57344,r=e[1],i=h[t];i&&i.isShared&&((h.restoreStructures||(h.restoreStructures=[]))[t]=i),h[t]=r,r.read=oe(r);let n={};if(f.keyMap)for(let o=2,a=e.length;o<a;o++){let u=f.decodeKey(r[o-2]);n[E(u)]=e[o]}else for(let o=2,a=e.length;o<a;o++){let u=r[o-2];n[E(u)]=e[o]}return n};g[tt]=le;g[14]=e=>x?x[0].slice(x.position0,x.position0+=e):new K(e,14);g[15]=e=>x?x[1].slice(x.position1,x.position1+=e):new K(e,15);var lt={Error,RegExp};g[27]=e=>(lt[e[0]]||Error)(e[1],e[2]);var Pe=e=>{if(l[s++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let t=e();return S=S?t.concat(S.slice(t.length)):t,S.prefixes=e(),S.suffixes=e(),e()};Pe.handlesRead=!0;g[51]=Pe;g[ve]=e=>{if(!S)if(f.getShared)fe();else return new K(e,ve);if(typeof e=="number")return S[16+(e>=0?2*e:-2*e-1)];throw new Error("No support for non-integer packed references yet")};g[28]=e=>{A||(A=new Map,A.id=0);let t=A.id++,r=l[s],i;r>>5==4?i=[]:i={};let n={target:i};A.set(t,n);let o=e();return n.used?Object.assign(i,o):(n.target=o,o)};g[28].handlesRead=!0;g[29]=e=>{let t=A.get(e);return t.used=!0,t.target};g[258]=e=>new Set(e);(g[259]=e=>(f.mapsAsObjects&&(f.mapsAsObjects=!1,L=!0),e())).handlesRead=!0;function _(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function C(){if(!S)if(f.getShared)fe();else throw new Error("No packed values available");return S}var ut=1399353956;se.push((e,t)=>{if(e>=225&&e<=255)return _(C().prefixes[e-224],t);if(e>=28704&&e<=32767)return _(C().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return _(C().prefixes[e-1879048192],t);if(e>=216&&e<=223)return _(t,C().suffixes[e-216]);if(e>=27647&&e<=28671)return _(t,C().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return _(t,C().suffixes[e-1811939328]);if(e==ut)return{packedValues:S,structures:h.slice(0),version:t};if(e==55799)return t});var ft=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,Ue=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],ct=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<Ue.length;e++)dt(Ue[e],ct[e]);function dt(e,t){let r="get"+e.name.slice(0,-5);typeof e!="function"&&(e=null);let i=e.BYTES_PER_ELEMENT;for(let n=0;n<2;n++){if(!n&&i==1)continue;let o=i==2?1:i==4?2:3;g[n?t:t-4]=i==1||n==ft?a=>{if(!e)throw new Error("Could not find typed array for code "+t);return new e(Uint8Array.prototype.slice.call(a,0).buffer)}:a=>{if(!e)throw new Error("Could not find typed array for code "+t);let u=new DataView(a.buffer,a.byteOffset,a.byteLength),c=a.length>>o,p=new e(c),y=u[r];for(let b=0;b<c;b++)p[b]=y.call(u,b<<o,n);return p}}}function pt(){let e=V(),t=s+d();for(let i=2;i<e;i++){let n=V();s+=n}let r=s;return s=t,x=[ae(V()),ae(V())],x.position0=0,x.position1=0,x.postBundlePosition=s,s=r,d()}function V(){let e=l[s++]&31;if(e>23)switch(e){case 24:e=l[s++];break;case 25:e=m.getUint16(s),s+=2;break;case 26:e=m.getUint32(s),s+=4;break}return e}function fe(){if(f.getShared){let e=Re(()=>(l=null,f.getShared()))||{},t=e.structures||[];f.sharedVersion=e.version,S=f.sharedValues=e.packedValues,h===!0?f.structures=h=t:h.splice.apply(h,[0,t.length].concat(t))}}function Re(e){let t=D,r=s,i=ie,n=Y,o=T,a=z,u=ne,c=A,p=x,y=new Uint8Array(l.slice(0,D)),b=h,O=f,v=F,N=e();return D=t,s=r,ie=i,Y=n,T=o,z=a,ne=u,A=c,x=p,l=y,F=v,h=b,f=O,m=new DataView(l.buffer,l.byteOffset,l.byteLength),N}function ue(){l=null,A=null,h=null}var Me=new Array(147);for(let e=0;e<256;e++)Me[e]=+("1e"+Math.floor(45.15-e*.30103));var ce=new I({useRecords:!1}),J=ce.decode,It=ce.decodeMultiple;var _e=new TextEncoder,Ie=new TextDecoder,de=_e.encode.bind(_e),pe=Ie.decode.bind(Ie);var yt=e=>String.fromCharCode(...new Uint8Array(e)),ht=te,gt=ee;var W=e=>de(gt(e));var B=e=>ht(yt(e));var Nt=new Uint8Array([0,0,0,0]).buffer;var Z=(e,t={})=>fetch(new Request(`https://api.passkeys.neal.codes/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}));function Ke(e){if(e.hasOwnProperty("getPublicKey"))return e.getPublicKey();let{authData:t}=J(new Uint8Array(e.attestationObject)),r=t.slice(37),i=new DataView(r.slice(16,18).buffer).getUint16(0);return r.slice(18+i).buffer}function xt(e){if(e.hasOwnProperty("getPublicKeyAlgorithm"))return e.getPublicKeyAlgorithm();let t=Ke(e);return J(new Uint8Array(t))[3]}var Q;(r=>{async function e(i){return await(await Z("attestation/generate",{userId:i})).json()}r.generate=e;async function t(i){let n=i.response;console.log(JSON.parse(pe(n.clientDataJSON))),console.log(J(new Uint8Array(n.attestationObject))),window.attestation=i;let o={kid:i.id,clientDataJSON:B(n.clientDataJSON),attestationObject:B(n.attestationObject),pubkey:B(Ke(n)),coseAlg:xt(n)};return await(await Z("attestation/store",o)).json()}r.store=t})(Q||={});var X;(r=>{async function e(){return await(await Z("assertion/generate",{})).json()}r.generate=e;async function t(i){let n=i.response;console.log(JSON.parse(pe(n.clientDataJSON))),console.log(n.authenticatorData),window.assertion=i;let o={kid:i.id,clientDataJSON:B(n.clientDataJSON),authenticatorData:B(n.authenticatorData),signature:B(n.signature)};return await(await Z("assertion/verify",o)).json()}r.verify=t})(X||={});async function Ne(e){let{challenge:t}=await X.generate(),r={challenge:W(t),rpId:window.location.host,timeout:6e4},i=await window.navigator.credentials.get({publicKey:r,signal:e.signal,mediation:"optional"});return await X.verify(i)}var Gt={[(-7).toString()]:"SHA-256",[(-35).toString()]:"SHA-384",[(-36).toString()]:"SHA-512"},zt={[(-7).toString()]:"P-256",[(-35).toString()]:"P-384",[(-36).toString()]:"P-512"},Yt={[(-7).toString()]:"ECDSA",[(-35).toString()]:"ECDSA",[(-36).toString()]:"ECDSA"},Wt={[(-7).toString()]:256,[(-35).toString()]:384,[(-36).toString()]:512};async function Le(e,t){let r=crypto.randomUUID(),{challenge:i}=await Q.generate(r),n={challenge:W(i),rp:{id:window.location.host,name:document.title},user:{id:de(r),name:t,displayName:""},pubKeyCredParams:[{type:"public-key",alg:-36},{type:"public-key",alg:-35},{type:"public-key",alg:-7}],authenticatorSelection:{userVerification:"preferred",residentKey:"required"},attestation:"indirect",timeout:6e4},o=await window.navigator.credentials.create({publicKey:n,signal:e.signal});return await Q.store(o)}var j=document.querySelector("form#passkeys"),ye=j.querySelector("button#signup"),Ve=j.querySelector("button#login"),$=document.querySelector("textarea#output");if(window.PublicKeyCredential){j.addEventListener("submit",t=>(t.preventDefault(),!1));let e=t=>async r=>{r.preventDefault();let i=new FormData(j),n=new AbortController,o=i.get("username");if(r.target===ye&&!o)return j.reportValidity();$&&($.value="");let a=await t(n,o);$&&($.value=JSON.stringify(a,void 0,4))};ye?.addEventListener("click",e(Le)),Ve?.addEventListener("click",e(Ne))}
//# sourceMappingURL=index.js.map
