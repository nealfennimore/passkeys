var Te=Object.create;var xe=Object.defineProperty;var Fe=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var Je=Object.getPrototypeOf,He=Object.prototype.hasOwnProperty;var $e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qe=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ve(t))!He.call(e,n)&&n!==r&&xe(e,n,{get:()=>t[n],enumerable:!(i=Fe(t,n))||i.enumerable});return e};var Ge=(e,t,r)=>(r=e!=null?Te(Je(e)):{},qe(t||!e||!e.__esModule?xe(r,"default",{value:e,enumerable:!0}):r,e));var Ae=$e(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});function B(e,t,r){var i;if(r===void 0&&(r={}),!t.codes){t.codes={};for(var n=0;n<t.chars.length;++n)t.codes[t.chars[n]]=n}if(!r.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");for(var a=e.length;e[a-1]==="=";)if(--a,!r.loose&&!((e.length-a)*t.bits&7))throw new SyntaxError("Invalid padding");for(var o=new((i=r.out)!=null?i:Uint8Array)(a*t.bits/8|0),u=0,f=0,p=0,y=0;y<a;++y){var b=t.codes[e[y]];if(b===void 0)throw new SyntaxError("Invalid character "+e[y]);f=f<<t.bits|b,u+=t.bits,u>=8&&(u-=8,o[p++]=255&f>>u)}if(u>=t.bits||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return o}function M(e,t,r){r===void 0&&(r={});for(var i=r,n=i.pad,a=n===void 0?!0:n,o=(1<<t.bits)-1,u="",f=0,p=0,y=0;y<e.length;++y)for(p=p<<8|255&e[y],f+=8;f>t.bits;)f-=t.bits,u+=t.chars[o&p>>f];if(f&&(u+=t.chars[o&p<<t.bits-f]),a)for(;u.length*t.bits&7;)u+="=";return u}var ge={chars:"0123456789ABCDEF",bits:4},be={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bits:5},we={chars:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bits:5},me={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bits:6},Se={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},Ye={parse:function(t,r){return B(t.toUpperCase(),ge,r)},stringify:function(t,r){return M(t,ge,r)}},ze={parse:function(t,r){return r===void 0&&(r={}),B(r.loose?t.toUpperCase().replace(/0/g,"O").replace(/1/g,"L").replace(/8/g,"B"):t,be,r)},stringify:function(t,r){return M(t,be,r)}},We={parse:function(t,r){return B(t,we,r)},stringify:function(t,r){return M(t,we,r)}},Ze={parse:function(t,r){return B(t,me,r)},stringify:function(t,r){return M(t,me,r)}},Qe={parse:function(t,r){return B(t,Se,r)},stringify:function(t,r){return M(t,Se,r)}},Xe={parse:B,stringify:M};k.base16=Ye;k.base32=ze;k.base32hex=We;k.base64=Ze;k.base64url=Qe;k.codec=Xe});var O=Ge(Ae(),1),wt=O.default.base16,mt=O.default.base32,St=O.default.base32hex,At=O.default.base64,J=O.default.base64url,Et=O.default.codec;function Q(e){return new TextDecoder().decode(J.parse(e,{loose:!0}))}function X(e){return J.stringify(new TextEncoder().encode(e),{pad:!1})}var ee;try{ee=new TextDecoder}catch{}var l,D,s=0;var Ue=[],et=105,tt=57342,rt=57343,Ee=57337;var ve=6,R={},te=Ue,re=0,c={},h,q,G=0,F=0,g,A,x=[],ne=[],S,m,L,ke={useRecords:!1,mapsAsObjects:!0},V=!1,I=class{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[r,i]of Object.entries(t.keyMap))this.mapKey.set(i,r)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let r=new Map;for(let[i,n]of Object.entries(t))r.set(this._keyMap.hasOwnProperty(i)?this._keyMap[i]:i,n);return r}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[i,n]of Object.entries(this._keyMap))this._mapKey.set(n,i)}let r={};return t.forEach((i,n)=>r[E(this._mapKey.has(n)?this._mapKey.get(n):n)]=i),r}mapDecode(t,r){let i=this.decode(t);if(this._keyMap)switch(i.constructor.name){case"Array":return i.map(n=>this.decodeKeys(n))}return i}decode(t,r){if(l)return Me(()=>(oe(),this?this.decode(t,r):I.prototype.decode.call(ke,t,r)));D=r>-1?r:t.length,s=0,re=0,F=0,q=null,te=Ue,g=null,l=t;try{m=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(i){throw l=null,t instanceof Uint8Array?i:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof I){if(c=this,S=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return h=this.structures,H();(!h||h.length>0)&&(h=[])}else c=ke,(!h||h.length>0)&&(h=[]),S=null;return H()}decodeMultiple(t,r){let i,n=0;try{let a=t.length;V=!0;let o=this?this.decode(t,a):ue.decode(t,a);if(r){if(r(o)===!1)return;for(;s<a;)if(n=s,r(H())===!1)return}else{for(i=[o];s<a;)n=s,i.push(H());return i}}catch(a){throw a.lastPosition=n,a.values=i,a}finally{V=!1,oe()}}};function H(){try{let e=d();if(g){if(s>=g.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}s=g.postBundlePosition,g=null}if(s==D)h=null,l=null,A&&(A=null);else if(s>D){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!V)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw oe(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function d(){let e=l[s++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=l[s++];break;case 25:if(t==7)return at();e=m.getUint16(s),s+=2;break;case 26:if(t==7){let r=m.getFloat32(s);if(c.useFloat32>2){let i=Re[(l[s]&127)<<1|l[s+1]>>7];return s+=4,(i*r+(r>0?.5:-.5)>>0)/i}return s+=4,r}e=m.getUint32(s),s+=4;break;case 27:if(t==7){let r=m.getFloat64(s);return s+=8,r}if(t>1){if(m.getUint32(s)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=m.getUint32(s+4)}else c.int64AsNumber?(e=m.getUint32(s)*4294967296,e+=m.getUint32(s+4)):e=m.getBigUint64(s);s+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let r=[],i,n=0;for(;(i=d())!=R;)r[n++]=i;return t==4?r:t==3?r.join(""):Buffer.concat(r);case 5:let a;if(c.mapsAsObjects){let o={};if(c.keyMap)for(;(a=d())!=R;)o[E(c.decodeKey(a))]=d();else for(;(a=d())!=R;)o[E(a)]=d();return o}else{L&&(c.mapsAsObjects=!0,L=!1);let o=new Map;if(c.keyMap)for(;(a=d())!=R;)o.set(c.decodeKey(a),d());else for(;(a=d())!=R;)o.set(a,d());return o}case 7:return R;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return st(e);case 3:if(F>=s)return q.slice(s-G,(s+=e)-G);if(F==0&&D<140&&e<32){let n=e<16?De(e):it(e);if(n!=null)return n}return nt(e);case 4:let r=new Array(e);for(let n=0;n<e;n++)r[n]=d();return r;case 5:if(c.mapsAsObjects){let n={};if(c.keyMap)for(let a=0;a<e;a++)n[E(c.decodeKey(d()))]=d();else for(let a=0;a<e;a++)n[E(d())]=d();return n}else{L&&(c.mapsAsObjects=!0,L=!1);let n=new Map;if(c.keyMap)for(let a=0;a<e;a++)n.set(c.decodeKey(d()),d());else for(let a=0;a<e;a++)n.set(d(),d());return n}case 6:if(e>=Ee){let n=h[e&8191];if(n)return n.read||(n.read=ie(n)),n.read();if(e<65536){if(e==rt)return ae(d());if(e==tt){let a=T(),o=d();for(let u=2;u<a;u++)ae([o++,d()]);return d()}else if(e==Ee)return dt();if(c.getShared&&(le(),n=h[e&8191],n))return n.read||(n.read=ie(n)),n.read()}}let i=x[e];if(i)return i.handlesRead?i(d):i(d());{let n=d();for(let a=0;a<ne.length;a++){let o=ne[a](e,n);if(o!==void 0)return o}return new j(n,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let n=(S||U())[e];if(n!==void 0)return n;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let n=new Error("Unexpected end of CBOR data");throw n.incomplete=!0,n}throw new Error("Unknown CBOR token "+e)}}var Ce=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ie(e){function t(){let r=l[s++];if(r=r&31,r>23)switch(r){case 24:r=l[s++];break;case 25:r=m.getUint16(s),s+=2;break;case 26:r=m.getUint32(s),s+=4;break;default:throw new Error("Expected array header, but got "+l[s-1])}let i=this.compiledReader;for(;i;){if(i.propertyCount===r)return i(d);i=i.next}if(this.slowReads++>=3){let a=this.length==r?this:this.slice(0,r);return i=c.keyMap?new Function("r","return {"+a.map(o=>c.decodeKey(o)).map(o=>Ce.test(o)?E(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+a.map(o=>Ce.test(o)?E(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(i.next=this.compiledReader),i.propertyCount=r,this.compiledReader=i,i(d)}let n={};if(c.keyMap)for(let a=0;a<r;a++)n[E(c.decodeKey(this[a]))]=d();else for(let a=0;a<r;a++)n[E(this[a])]=d();return n}return e.slowReads=0,t}function E(e){return e==="__proto__"?"__proto_":e}var nt=se;function se(e){let t;if(e<16&&(t=De(e)))return t;if(e>64&&ee)return ee.decode(l.subarray(s,s+=e));let r=s+e,i=[];for(t="";s<r;){let n=l[s++];if(!(n&128))i.push(n);else if((n&224)===192){let a=l[s++]&63;i.push((n&31)<<6|a)}else if((n&240)===224){let a=l[s++]&63,o=l[s++]&63;i.push((n&31)<<12|a<<6|o)}else if((n&248)===240){let a=l[s++]&63,o=l[s++]&63,u=l[s++]&63,f=(n&7)<<18|a<<12|o<<6|u;f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f)}else i.push(n);i.length>=4096&&(t+=w.apply(String,i),i.length=0)}return i.length>0&&(t+=w.apply(String,i)),t}var w=String.fromCharCode;function it(e){let t=s,r=new Array(e);for(let i=0;i<e;i++){let n=l[s++];if((n&128)>0){s=t;return}r[i]=n}return w.apply(String,r)}function De(e){if(e<4)if(e<2){if(e===0)return"";{let t=l[s++];if((t&128)>1){s-=1;return}return w(t)}}else{let t=l[s++],r=l[s++];if((t&128)>0||(r&128)>0){s-=2;return}if(e<3)return w(t,r);let i=l[s++];if((i&128)>0){s-=3;return}return w(t,r,i)}else{let t=l[s++],r=l[s++],i=l[s++],n=l[s++];if((t&128)>0||(r&128)>0||(i&128)>0||(n&128)>0){s-=4;return}if(e<6){if(e===4)return w(t,r,i,n);{let a=l[s++];if((a&128)>0){s-=5;return}return w(t,r,i,n,a)}}else if(e<8){let a=l[s++],o=l[s++];if((a&128)>0||(o&128)>0){s-=6;return}if(e<7)return w(t,r,i,n,a,o);let u=l[s++];if((u&128)>0){s-=7;return}return w(t,r,i,n,a,o,u)}else{let a=l[s++],o=l[s++],u=l[s++],f=l[s++];if((a&128)>0||(o&128)>0||(u&128)>0||(f&128)>0){s-=8;return}if(e<10){if(e===8)return w(t,r,i,n,a,o,u,f);{let p=l[s++];if((p&128)>0){s-=9;return}return w(t,r,i,n,a,o,u,f,p)}}else if(e<12){let p=l[s++],y=l[s++];if((p&128)>0||(y&128)>0){s-=10;return}if(e<11)return w(t,r,i,n,a,o,u,f,p,y);let b=l[s++];if((b&128)>0){s-=11;return}return w(t,r,i,n,a,o,u,f,p,y,b)}else{let p=l[s++],y=l[s++],b=l[s++],C=l[s++];if((p&128)>0||(y&128)>0||(b&128)>0||(C&128)>0){s-=12;return}if(e<14){if(e===12)return w(t,r,i,n,a,o,u,f,p,y,b,C);{let v=l[s++];if((v&128)>0){s-=13;return}return w(t,r,i,n,a,o,u,f,p,y,b,C,v)}}else{let v=l[s++],N=l[s++];if((v&128)>0||(N&128)>0){s-=14;return}if(e<15)return w(t,r,i,n,a,o,u,f,p,y,b,C,v,N);let he=l[s++];if((he&128)>0){s-=15;return}return w(t,r,i,n,a,o,u,f,p,y,b,C,v,N,he)}}}}}function st(e){return c.copyBuffers?Uint8Array.prototype.slice.call(l,s,s+=e):l.subarray(s,s+=e)}var Pe=new Float32Array(1),$=new Uint8Array(Pe.buffer,0,4);function at(){let e=l[s++],t=l[s++],r=(e&127)>>2;if(r===31)return t||e&3?NaN:e&128?-1/0:1/0;if(r===0){let i=((e&3)<<8|t)/16777216;return e&128?-i:i}return $[3]=e&128|(r>>1)+56,$[2]=(e&7)<<5|t>>3,$[1]=t<<5,$[0]=0,Pe[0]}var Mt=new Array(4096);var j=class{constructor(t,r){this.value=t,this.tag=r}};x[0]=e=>new Date(e);x[1]=e=>new Date(Math.round(e*1e3));x[2]=e=>{let t=BigInt(0);for(let r=0,i=e.byteLength;r<i;r++)t=BigInt(e[r])+t<<BigInt(8);return t};x[3]=e=>BigInt(-1)-x[2](e);x[4]=e=>+(e[1]+"e"+e[0]);x[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));var ae=e=>{let t=e[0]-57344,r=e[1],i=h[t];i&&i.isShared&&((h.restoreStructures||(h.restoreStructures=[]))[t]=i),h[t]=r,r.read=ie(r);let n={};if(c.keyMap)for(let a=2,o=e.length;a<o;a++){let u=c.decodeKey(r[a-2]);n[E(u)]=e[a]}else for(let a=2,o=e.length;a<o;a++){let u=r[a-2];n[E(u)]=e[a]}return n};x[et]=ae;x[14]=e=>g?g[0].slice(g.position0,g.position0+=e):new j(e,14);x[15]=e=>g?g[1].slice(g.position1,g.position1+=e):new j(e,15);var ot={Error,RegExp};x[27]=e=>(ot[e[0]]||Error)(e[1],e[2]);var Be=e=>{if(l[s++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let t=e();return S=S?t.concat(S.slice(t.length)):t,S.prefixes=e(),S.suffixes=e(),e()};Be.handlesRead=!0;x[51]=Be;x[ve]=e=>{if(!S)if(c.getShared)le();else return new j(e,ve);if(typeof e=="number")return S[16+(e>=0?2*e:-2*e-1)];throw new Error("No support for non-integer packed references yet")};x[28]=e=>{A||(A=new Map,A.id=0);let t=A.id++,r=l[s],i;r>>5==4?i=[]:i={};let n={target:i};A.set(t,n);let a=e();return n.used?Object.assign(i,a):(n.target=a,a)};x[28].handlesRead=!0;x[29]=e=>{let t=A.get(e);return t.used=!0,t.target};x[258]=e=>new Set(e);(x[259]=e=>(c.mapsAsObjects&&(c.mapsAsObjects=!1,L=!0),e())).handlesRead=!0;function _(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function U(){if(!S)if(c.getShared)le();else throw new Error("No packed values available");return S}var lt=1399353956;ne.push((e,t)=>{if(e>=225&&e<=255)return _(U().prefixes[e-224],t);if(e>=28704&&e<=32767)return _(U().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return _(U().prefixes[e-1879048192],t);if(e>=216&&e<=223)return _(t,U().suffixes[e-216]);if(e>=27647&&e<=28671)return _(t,U().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return _(t,U().suffixes[e-1811939328]);if(e==lt)return{packedValues:S,structures:h.slice(0),version:t};if(e==55799)return t});var ut=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,Oe=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],ct=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<Oe.length;e++)ft(Oe[e],ct[e]);function ft(e,t){let r="get"+e.name.slice(0,-5);typeof e!="function"&&(e=null);let i=e.BYTES_PER_ELEMENT;for(let n=0;n<2;n++){if(!n&&i==1)continue;let a=i==2?1:i==4?2:3;x[n?t:t-4]=i==1||n==ut?o=>{if(!e)throw new Error("Could not find typed array for code "+t);return new e(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!e)throw new Error("Could not find typed array for code "+t);let u=new DataView(o.buffer,o.byteOffset,o.byteLength),f=o.length>>a,p=new e(f),y=u[r];for(let b=0;b<f;b++)p[b]=y.call(u,b<<a,n);return p}}}function dt(){let e=T(),t=s+d();for(let i=2;i<e;i++){let n=T();s+=n}let r=s;return s=t,g=[se(T()),se(T())],g.position0=0,g.position1=0,g.postBundlePosition=s,s=r,d()}function T(){let e=l[s++]&31;if(e>23)switch(e){case 24:e=l[s++];break;case 25:e=m.getUint16(s),s+=2;break;case 26:e=m.getUint32(s),s+=4;break}return e}function le(){if(c.getShared){let e=Me(()=>(l=null,c.getShared()))||{},t=e.structures||[];c.sharedVersion=e.version,S=c.sharedValues=e.packedValues,h===!0?c.structures=h=t:h.splice.apply(h,[0,t.length].concat(t))}}function Me(e){let t=D,r=s,i=re,n=G,a=F,o=q,u=te,f=A,p=g,y=new Uint8Array(l.slice(0,D)),b=h,C=c,v=V,N=e();return D=t,s=r,re=i,G=n,F=a,q=o,te=u,A=f,g=p,l=y,V=v,h=b,c=C,m=new DataView(l.buffer,l.byteOffset,l.byteLength),N}function oe(){l=null,A=null,h=null}var Re=new Array(147);for(let e=0;e<256;e++)Re[e]=+("1e"+Math.floor(45.15-e*.30103));var ue=new I({useRecords:!1}),ce=ue.decode,Rt=ue.decodeMultiple;var _e=new TextEncoder,Ie=new TextDecoder,fe=_e.encode.bind(_e),de=Ie.decode.bind(Ie);var pt=e=>String.fromCharCode(...new Uint8Array(e)),yt=X,ht=Q;var Y=e=>fe(ht(e));var P=e=>yt(pt(e));var z=(e,t={})=>fetch(new Request(`https://api.passkeys.neal.codes/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"})),W;(r=>{async function e(i){return await(await z("attestation/generate",{userId:i})).json()}r.generate=e;async function t(i){let n=i.response;console.log(JSON.parse(de(n.clientDataJSON))),console.log(ce(new Uint8Array(n.attestationObject))),window.attestation=i;let a={kid:i.id,clientDataJSON:P(n.clientDataJSON),attestationObject:P(n.attestationObject),pubkey:P(n.getPublicKey()),coseAlg:n.getPublicKeyAlgorithm()};return await(await z("attestation/store",a)).json()}r.store=t})(W||={});var Z;(r=>{async function e(){return await(await z("assertion/generate",{})).json()}r.generate=e;async function t(i){let n=i.response;console.log(JSON.parse(de(n.clientDataJSON))),console.log(n.authenticatorData),window.assertion=i;let a={kid:i.id,clientDataJSON:P(n.clientDataJSON),authenticatorData:P(n.authenticatorData),signature:P(n.signature)};return await(await z("assertion/verify",a)).json()}r.verify=t})(Z||={});async function Ke(e){let{challenge:t}=await Z.generate(),r={challenge:Y(t),rpId:window.location.host,timeout:6e4},i=await PublicKeyCredential?.isConditionalMediationAvailable?.()?"conditional":"optional",n=await window.navigator.credentials.get({publicKey:r,signal:e.signal,mediation:i});return await Z.verify(n)}var Jt={[(-7).toString()]:"SHA-256",[(-35).toString()]:"SHA-384",[(-36).toString()]:"SHA-512"},Ht={[(-7).toString()]:"P-256",[(-35).toString()]:"P-384",[(-36).toString()]:"P-512"},$t={[(-7).toString()]:"ECDSA",[(-35).toString()]:"ECDSA",[(-36).toString()]:"ECDSA"};async function Ne(e,t){let r=crypto.randomUUID(),{challenge:i}=await W.generate(r),n={challenge:Y(i),rp:{id:window.location.host,name:document.title},user:{id:fe(r),name:t,displayName:""},pubKeyCredParams:[{type:"public-key",alg:-36},{type:"public-key",alg:-35},{type:"public-key",alg:-7}],authenticatorSelection:{userVerification:"preferred",residentKey:"required"},attestation:"indirect",timeout:6e4},a=await window.navigator.credentials.create({publicKey:n,signal:e.signal});return await W.store(a)}var K=document.querySelector("form#passkeys"),pe=K.querySelector("button#signup"),Le=K.querySelector("button#login"),ye=document.querySelector("textarea#output");if(window.PublicKeyCredential){K.addEventListener("submit",t=>(t.preventDefault(),!1));let e=t=>async r=>{r.preventDefault();let i=new FormData(K),n=new AbortController,a=i.get("username");if(r.target===pe&&!a)return K.reportValidity();let o=await t(n,a);ye&&(ye.value=JSON.stringify(o,void 0,4))};pe?.addEventListener("click",e(Ne)),Le?.addEventListener("click",e(Ke))}
//# sourceMappingURL=index.js.map
